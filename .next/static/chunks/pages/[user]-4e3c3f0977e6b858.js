(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[289],{871:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[user]",function(){return t(7856)}])},3979:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var n=t(2477);t(8408);var r=t(2009),i=t.n(r);function a(){return(0,n.jsx)("footer",{className:"opacity-100 py-12 px-8 absolute bottom-0 w-screen flex justify-center",children:(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)(i(),{src:"/daynotes-logo.png",alt:"Note icon",width:448,height:448,className:"w-28"})})})}},7903:function(e,s,t){"use strict";t.d(s,{Z:function(){return x}});var n=t(2477),r=t(8408),i=t(2375),a=t.n(i),c=t(8366),l=t(3606),o=t(8861),d=t(2009),m=t.n(d);function x(e){let s="cursor-pointer ml-2 px-3 sm:px-3 py-2 flex justify-center items-center hover:bg-gray-200/70 transition-colors rounded-lg text-gray-900 tracking-wide font-regular mt-1 flex text-sm",t=(0,c.Z)(),{user:i}=(0,l.aF)(),{userData:d,setUserData:x}=(0,o.a)(),{userDoc:u}=e;async function h(e){await fetch("https://daynotes-client.vercel.app/api/users?email=".concat(e)).then(e=>e.json()).then(e=>{x(e.data)})}return(0,r.useEffect)(()=>{i&&!d&&h(i.email)},[i,d]),(0,r.useEffect)(()=>{},[u]),(0,n.jsxs)("nav",{className:"pt-4 pb-3 px-6 sm:px-12 flex justify-between items-center",children:[(0,n.jsx)(a(),{href:"/",children:(0,n.jsx)("div",{className:"cursor-pointer flex justify-center items-center",children:(0,n.jsx)(m(),{src:"/daynotes-logo.png",alt:"DayNotes logo",width:740,height:149,className:"mt-2 w-[125px] sm:w-[150px]"})})}),(0,n.jsxs)("ul",{className:"flex",children:[(0,n.jsx)(a(),{href:"/",children:(0,n.jsx)("li",{className:s,children:"Home"})}),void 0!==i&&(0,n.jsx)(a(),{href:"/".concat(i.email,"/").concat(t),children:(0,n.jsx)("li",{className:s,children:"Today"})}),i?(0,n.jsx)(a(),{href:"/".concat(i.email,"/notes"),children:(0,n.jsx)("li",{className:s,children:"Notes"})}):(0,n.jsx)("div",{}),(0,n.jsx)(a(),{href:"/about",children:(0,n.jsx)("li",{className:s,children:"About"})}),i&&d?(0,n.jsx)(a(),{href:"/".concat(i.nickname),children:(0,n.jsx)("li",{className:"cursor-pointer ml-1 px-3 sm:px-3 pt-2",children:(0,n.jsx)("div",{className:"hover:drop-shadow-md bg-blue-700 hover:opacity-100 opacity-90 transition-opacity cursor-pointer w-[30px] h-[30px] rounded-full flex justify-center items-center",children:(0,n.jsx)(m(),{src:"/user-icons".concat(d.userImage),alt:"User profile icon",width:448,height:512,className:"w-1/2 invert"})})})}):(0,n.jsx)(a(),{href:"/api/auth/login","data-testid":"login",children:(0,n.jsx)("li",{className:"ml-3 mt-1",children:(0,n.jsx)("button",{className:"border border-blue-700 hover:from-blue-700 hover:to-blue-700 from-blue-600 to-blue-700 transition-all bg-gradient-to-b px-3 py-2 text-sm text-white font-semibold tracking-wide rounded-md",children:"Sign Up"})})})]})]})}},7856:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return u},default:function(){return h}});var n=t(2477),r=t(8408),i=t(7903),a=t(3979),c=t(3606),l=t(2009),o=t.n(l),d=function(e){let{image:s,editImage:t,setEditImage:r,updateUserImage:i,email:a}=e,c=()=>{t&&i(a,s),r(!1)};return(0,n.jsx)("div",{className:t?"mb-4 mx-2 bg-blue-700 hover:opacity-100 opacity-90 transition-opacity cursor-pointer drop-shadow-md w-[75px] h-[75px] rounded-full flex justify-center items-center":"mx-2 bg-blue-700 hover:opacity-100 opacity-90 transition-opacity cursor-pointer drop-shadow-md w-[125px] h-[125px] rounded-full flex justify-center items-center",children:s?(0,n.jsx)(o(),{src:"/user-icons".concat(s),alt:"User image",width:448,height:512,className:"w-1/2 opacity-100 invert",onClick:c}):(0,n.jsx)("div",{})})},m=t(9705),x=t(8861),u=!0;function h(e){let{userCtxt:s}=e,{user:t}=(0,c.aF)(),{userData:l,setUserData:o}=(0,x.a)(),u=s.email,[h,p]=(0,r.useState)(!1),[f,j]=(0,r.useState)([]),[g,b]=(0,r.useState)(),[y,N]=(0,r.useState)(!0);async function v(e){await fetch("https://daynotes-client.vercel.app/api/users?email=".concat(e)).then(e=>e.json()).then(e=>{j(e.data),o(e.data);let s=(0,m.Z)(new Date(e.data.memberSince),"LLLL d, yyyy")+".";b(s),N(!1)})}async function w(e,s){await fetch("https://daynotes-client.vercel.app/api/users?email=".concat(e,"&newImage=").concat(s),{method:"PATCH"}).then(e=>e.json()).then(e=>{console.log(e.message),N(!1),v(u)})}return(0,r.useEffect)(()=>{v(u)},[w]),(0,n.jsxs)("main",{className:"font-sans bg-gray-50 min-h-screen w-screen relative",children:[(0,n.jsx)(i.Z,{userDoc:f}),(0,n.jsx)("div",{className:"mx-2 sm:mx-8 flex flex-col justify-center items-center",children:(0,n.jsxs)("div",{className:"border-boxBorder border drop-shadow-lg rounded-lg bg-slate-50 pb-20 w-full",children:[(0,n.jsx)("header",{className:"border-b border-headerBorder flex justify-between items-center pt-5 pb-4 px-4 sm:px-8",children:(0,n.jsx)("h2",{className:"text-2xl font-regular text-blackHeading",children:"User"})}),t?(0,n.jsx)("div",{className:"flex flex-col text-blackHeading mt-12 mb-2 font-light",children:(0,n.jsx)("div",{className:"flex flex-col items-center",children:h?(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,n.jsx)("p",{className:"mb-6",children:"Choose a new profile picture:"}),(0,n.jsx)("div",{className:"w-fit grid grid-cols-4",children:["/user.png","/user-hair-long.png","/user-crown.png","/user-astronaut.png","/user-cowboy.png","/user-ninja.png","/user-robot.png","/user-shakespeare.png"].map(e=>(0,n.jsx)(d,{updateUserImage:w,email:u,editImage:h,setEditImage:p,image:e},e))}),(0,n.jsx)("div",{className:"mt-3 mb-6 text-sm flex space-x-3 justify-center",children:(0,n.jsx)("button",{className:"bg-gray-200 hover:bg-gray-300 transition cursor-pointer text-blackHeading text-sm font-semibold px-5 py-3 rounded-full",onClick:()=>p(!1),children:"Cancel"})})]}):(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,n.jsx)(d,{editImage:h,setEditImage:p,image:f.userImage}),(0,n.jsx)("div",{className:"w-[125px] flex justify-end",children:(0,n.jsx)("p",{className:"hover:opacity-90 transition-opacity cursor-pointer text-xs font-medium opacity-50",onClick:()=>p(!0),children:"Edit"})}),(0,n.jsxs)("div",{className:"mt-4 mb-6 flex flex-col items-center text-md",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("p",{className:"pr-2 font-semibold",children:"Username:"}),(0,n.jsx)("p",{className:"",children:t.nickname})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("p",{className:"pr-2 font-semibold",children:"Email:"}),(0,n.jsx)("p",{className:"",children:t.email})]}),(0,n.jsx)("div",{className:"flex flex-col items-center mt-2 text-sm",children:(0,n.jsxs)("p",{children:["Member since ",g]})})]}),(0,n.jsx)("a",{className:"bg-gray-200/70 hover:bg-gray-300 transition cursor-pointer text-blackHeading text-sm font-semibold px-5 py-3 rounded-full",href:"/api/auth/logout",children:"LOG OUT"})]})})}):(0,n.jsx)("div",{children:(0,n.jsx)("h2",{children:"Loading..."})})]})}),(0,n.jsx)(a.Z,{})]})}}},function(e){e.O(0,[637,705,888,179],function(){return e(e.s=871)}),_N_E=e.O()}]);